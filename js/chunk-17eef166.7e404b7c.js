(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17eef166"],{"057f":function(t,e,c){var o=c("c6b6"),r=c("fc6a"),n=c("241c").f,s=c("4dae"),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return n(t)}catch(e){return s(i)}};t.exports.f=function(t){return i&&"Window"==o(t)?a(t):n(r(t))}},"428f":function(t,e,c){var o=c("da84");t.exports=o},"4dae":function(t,e,c){var o=c("da84"),r=c("23cb"),n=c("07fa"),s=c("8418"),i=o.Array,a=Math.max;t.exports=function(t,e,c){for(var o=n(t),u=r(e,o),l=r(void 0===c?o:c,o),d=i(a(l-u,0)),b=0;u<l;u++,b++)s(d,b,t[u]);return d.length=b,d}},"746f":function(t,e,c){var o=c("428f"),r=c("1a2d"),n=c("e538"),s=c("9bf2").f;t.exports=function(t){var e=o.Symbol||(o.Symbol={});r(e,t)||s(e,t,{value:n.f(t)})}},"7db0":function(t,e,c){"use strict";var o=c("23e7"),r=c("b727").find,n=c("44d2"),s="find",i=!0;s in[]&&Array(1)[s]((function(){i=!1})),o({target:"Array",proto:!0,forced:i},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(s)},"9dc4":function(t,e,c){"use strict";c.r(e);var o=c("7a23"),r={class:"container"},n={class:"text-end mt-4"},s=["disabled"],i={class:"table mt-4"},a=Object(o["g"])("thead",null,[Object(o["g"])("tr",null,[Object(o["g"])("th",{width:"120"}," 分類 "),Object(o["g"])("th",null,"產品名稱"),Object(o["g"])("th",{width:"120"}," 原價 "),Object(o["g"])("th",{width:"120"}," 售價 "),Object(o["g"])("th",{width:"100"}," 是否啟用 "),Object(o["g"])("th",{width:"120"}," 編輯 ")])],-1),u={class:"btn-group"},l=["onClick"],d=["onClick"];function b(t,e,c,b,f,p){var g=Object(o["z"])("ProductModal");return Object(o["s"])(),Object(o["f"])("div",r,[Object(o["g"])("div",n,[Object(o["g"])("button",{class:"btn btn-primary",disabled:f.isLoading,onClick:e[0]||(e[0]=function(){return p.showAddProductModal&&p.showAddProductModal.apply(p,arguments)})}," 建立新的產品 ",8,s)]),Object(o["g"])("table",i,[a,Object(o["g"])("tbody",null,[(Object(o["s"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(f.products,(function(e){return Object(o["s"])(),Object(o["f"])("tr",{key:e.id},[Object(o["g"])("td",null,Object(o["B"])(e.category),1),Object(o["g"])("td",null,Object(o["B"])(e.title),1),Object(o["g"])("td",null,Object(o["B"])(e.origin_price),1),Object(o["g"])("td",null,Object(o["B"])(e.price),1),Object(o["g"])("td",null,[Object(o["g"])("span",{class:Object(o["o"])([e.is_enabled?"text-success":"text-secondary"])},Object(o["B"])(e.is_enabled?"啟用":"未啟用"),3)]),Object(o["g"])("td",null,[Object(o["g"])("div",u,[Object(o["g"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(t){return p.showUpdateProductModal(e.id)}}," 編輯 ",8,l),Object(o["g"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(c){return t.setProductId(e.id,"del")}}," 刪除 ",8,d)])])])})),128))])]),Object(o["i"])(g,{"prop-is-new":f.isNew,"prop-product":f.product},null,8,["prop-is-new","prop-product"])])}c("7db0"),c("d3b7");var f=c("7b17"),p=c("dde5"),g=(c("a4d3"),c("e01a"),{id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"}),m={class:"modal-dialog modal-xl"},O={class:"modal-content border-0"},h={class:"modal-header bg-dark text-white"},j={id:"productModalLabel",class:"modal-title"},v=Object(o["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),y={class:"modal-body"},w={class:"row"},P={class:"col-sm-4"},U={class:"mb-2"},k={class:"mb-3"},x=Object(o["g"])("label",{for:"imageUrl",class:"form-label"}," 輸入主圖網址 ",-1),S=["src"],M={key:0,class:"mb-3"},E=Object(o["g"])("hr",null,null,-1),N={class:"mb-3"},$=Object(o["g"])("label",{for:"imageUrl",class:"form-label"}," 輸入其他圖片網址 ",-1),_=["onUpdate:modelValue"],V=["src"],C={key:0},H={key:1},I={class:"col-sm-8"},L={class:"mb-3"},A=Object(o["g"])("label",{for:"title",class:"form-label"}," 標題 ",-1),B={class:"row"},J={class:"mb-3 col-md-6"},D=Object(o["g"])("label",{for:"category",class:"form-label"}," 分類 ",-1),F={class:"mb-3 col-md-6"},T=Object(o["g"])("label",{for:"price",class:"form-label"}," 單位 ",-1),z={class:"row"},Q={class:"mb-3 col-md-6"},R=Object(o["g"])("label",{for:"origin_price",class:"form-label"}," 原價 ",-1),W={class:"mb-3 col-md-6"},q=Object(o["g"])("label",{for:"price",class:"form-label"}," 售價 ",-1),G=Object(o["g"])("hr",null,null,-1),K={class:"mb-3"},X=Object(o["g"])("label",{for:"description",class:"form-label"}," 產品描述 ",-1),Y={class:"mb-3"},Z=Object(o["g"])("label",{for:"content",class:"form-label"}," 說明內容 ",-1),tt={class:"mb-3"},et={class:"form-check"},ct=["checked"],ot=Object(o["g"])("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ",-1),rt={class:"modal-footer"},nt=Object(o["g"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function st(t,e,c,r,n,s){return Object(o["s"])(),Object(o["f"])("div",g,[Object(o["g"])("div",m,[Object(o["g"])("div",O,[Object(o["g"])("div",h,[Object(o["g"])("h5",j,[Object(o["g"])("span",null,Object(o["B"])(n.title),1)]),v]),Object(o["g"])("div",y,[Object(o["g"])("div",w,[Object(o["g"])("div",P,[Object(o["g"])("div",U,[Object(o["g"])("div",k,[x,Object(o["H"])(Object(o["g"])("input",{id:"imageUrl","onUpdate:modelValue":e[0]||(e[0]=function(t){return n.product.imageUrl=t}),type:"text",class:"form-control",placeholder:"輸入主圖網址"},null,512),[[o["E"],n.product.imageUrl]]),void 0!==n.product.imageUrl&&""!==n.product.imageUrl?(Object(o["s"])(),Object(o["f"])("img",{key:0,class:"img-fluid mt-1",src:n.product.imageUrl,alt:"primary pic"},null,8,S)):Object(o["e"])("",!0)]),Array.isArray(n.product.imagesUrl)?(Object(o["s"])(),Object(o["f"])("div",M,[E,Object(o["g"])("div",N,[$,(Object(o["s"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(n.product.imagesUrl,(function(t,e){return Object(o["s"])(),Object(o["f"])("div",{id:"imageUrl",key:"pic-"+e,class:"mb-3"},[Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":function(t){return n.product.imagesUrl[e]=t},type:"text",class:"form-control",placeholder:"輸入其他圖片網址"},null,8,_),[[o["E"],n.product.imagesUrl[e]]]),""!==n.product.imagesUrl[e]?(Object(o["s"])(),Object(o["f"])("img",{key:0,class:"img-fluid mt-1",src:n.product.imagesUrl[e],alt:"other pic"},null,8,V)):Object(o["e"])("",!0)])})),128))]),!n.product.imagesUrl.length||n.product.imagesUrl[n.product.imagesUrl.length-1]?(Object(o["s"])(),Object(o["f"])("div",C,[Object(o["g"])("button",{type:"button",class:"btn btn-primary btn-sm d-block w-100",onClick:e[1]||(e[1]=function(t){return n.product.imagesUrl.push("")})}," 新增圖片 ")])):(Object(o["s"])(),Object(o["f"])("div",H,[Object(o["g"])("button",{type:"button",class:"btn btn-outline-danger btn-sm d-block w-100",onClick:e[2]||(e[2]=function(t){return n.product.imagesUrl.pop()})}," 刪除圖片 ")]))])):Object(o["e"])("",!0)])]),Object(o["g"])("div",I,[Object(o["g"])("div",L,[A,Object(o["H"])(Object(o["g"])("input",{id:"title","onUpdate:modelValue":e[3]||(e[3]=function(t){return n.product.title=t}),type:"text",class:"form-control",placeholder:"請輸入標題"},null,512),[[o["E"],n.product.title]])]),Object(o["g"])("div",B,[Object(o["g"])("div",J,[D,Object(o["H"])(Object(o["g"])("input",{id:"category","onUpdate:modelValue":e[4]||(e[4]=function(t){return n.product.category=t}),type:"text",class:"form-control",placeholder:"請輸入分類"},null,512),[[o["E"],n.product.category]])]),Object(o["g"])("div",F,[T,Object(o["H"])(Object(o["g"])("input",{id:"price","onUpdate:modelValue":e[5]||(e[5]=function(t){return n.product.unit=t}),type:"text",class:"form-control",placeholder:"請輸入單位"},null,512),[[o["E"],n.product.unit]])])]),Object(o["g"])("div",z,[Object(o["g"])("div",Q,[R,Object(o["H"])(Object(o["g"])("input",{id:"origin_price","onUpdate:modelValue":e[6]||(e[6]=function(t){return n.product.origin_price=t}),type:"number",min:"0",class:"form-control",placeholder:"請輸入原價"},null,512),[[o["E"],n.product.origin_price]])]),Object(o["g"])("div",W,[q,Object(o["H"])(Object(o["g"])("input",{id:"price","onUpdate:modelValue":e[7]||(e[7]=function(t){return n.product.price=t}),type:"number",min:"0",class:"form-control",placeholder:"請輸入售價"},null,512),[[o["E"],n.product.price]])])]),G,Object(o["g"])("div",K,[X,Object(o["H"])(Object(o["g"])("textarea",{id:"description","onUpdate:modelValue":e[8]||(e[8]=function(t){return n.product.description=t}),type:"text",class:"form-control",placeholder:"請輸入產品描述"},null,512),[[o["E"],n.product.description]])]),Object(o["g"])("div",Y,[Z,Object(o["H"])(Object(o["g"])("textarea",{id:"content","onUpdate:modelValue":e[9]||(e[9]=function(t){return n.product.content=t}),type:"text",class:"form-control",placeholder:"請輸入說明內容"},null,512),[[o["E"],n.product.content]])]),Object(o["g"])("div",tt,[Object(o["g"])("div",et,[Object(o["H"])(Object(o["g"])("input",{id:"is_enabled","onUpdate:modelValue":e[10]||(e[10]=function(t){return n.product.is_enabled=t}),class:"form-check-input",type:"checkbox",checked:n.product.is_enabled},null,8,ct),[[o["D"],n.product.is_enabled]]),ot])])])])]),Object(o["g"])("div",rt,[nt,Object(o["g"])("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:e[11]||(e[11]=function(t){return n.isNew?s.addProduct():s.updateProduct()})}," 確認 ")])])])],512)}var it={props:{propIsNew:{type:Boolean,default:!0},propProduct:{type:Object,default:function(){return{}}}},data:function(){return{title:"",product:{},isNew:!0}},watch:{propIsNew:function(){this.title=this.propIsNew?"新增產品":"編輯產品"},propProduct:function(){this.product=this.propProduct}},mounted:function(){},methods:{addProduct:function(){var t=this;this.isLoading=!0,p["a"].addProduct(this.product).then((function(e){var c=e.data,o=c.message,r=c.success;t.message=o,t.success=r,t.getProducts()})).catch((function(e){var c=e.response.data,o=c.message,r=c.success;t.message=o,t.success=r,t.$store.commit("logout"),t.$router.push("/login"),t.getProducts()}))},updateProduct:function(){var t=this;this.isLoading=!0,p["a"].updateProduct(this.selectedProductId,this.product).then((function(e){var c=e.data,o=c.products,r=c.pagination,n=c.message,s=c.success;t.products=o,t.pagination=r,t.message=n,t.success=s,t.getProducts()})).catch((function(e){var c=e.response.data,o=c.message,r=c.success;t.message=o,t.success=r,t.$store.commit("logout"),t.$router.push("/login")}))}}},at=c("6b0d"),ut=c.n(at);const lt=ut()(it,[["render",st]]);var dt=lt,bt={components:{ProductModal:dt},data:function(){return{modalTitle:"",product:{},products:[],isLoading:!0,productModal:null,selectedProductId:"",isNew:!0}},watch:{},mounted:function(){var t=this;this.$store.state.isLogin?(p["b"].check().then((function(e){var c=e.data;c.success&&t.getProducts()})).catch((function(e){var c=e.response.data,o=c.message,r=c.success;t.message=o,t.success=r,t.$store.commit("logout"),t.$router.push("/login")})),this.productModal=new f["a"](document.getElementById("productModal"),{keyboard:!1,backdrop:"static"})):this.$router.push("/login")},methods:{showAddProductModal:function(){this.product={},this.isNew=!0,this.productModal.show()},showUpdateProductModal:function(t){this.product=this.products.find((function(e){return e.id===t})),this.isNew=!1,this.productModal.show()},getProducts:function(){var t=this;this.isLoading=!0,p["a"].getProducts().then((function(e){var c=e.data,o=c.products,r=c.pagination;t.products=o,t.pagination=r,t.isLoading=!1})).catch((function(e){var c=e.response.data,o=c.message,r=c.success;t.message=o,t.success=r,t.$store.commit("logout"),t.$router.push("/login")}))},deleteProduct:function(){var t=this;this.isLoading=!0,p["a"].deleteProduct(this.selectedProductId).then((function(e){var c=e.data,o=c.products,r=c.pagination,n=c.message,s=c.success;t.products=o,t.pagination=r,t.message=n,t.success=s,t.getProducts()})).catch((function(e){var c=e.response.data,o=c.message,r=c.success;t.message=o,t.success=r,t.$store.commit("logout"),t.$router.push("/login")}))}}};const ft=ut()(bt,[["render",b]]);e["default"]=ft},a4d3:function(t,e,c){"use strict";var o=c("23e7"),r=c("da84"),n=c("d066"),s=c("2ba4"),i=c("c65b"),a=c("e330"),u=c("c430"),l=c("83ab"),d=c("4930"),b=c("d039"),f=c("1a2d"),p=c("e8b5"),g=c("1626"),m=c("861d"),O=c("3a9b"),h=c("d9b5"),j=c("825a"),v=c("7b0b"),y=c("fc6a"),w=c("a04b"),P=c("577e"),U=c("5c6c"),k=c("7c73"),x=c("df75"),S=c("241c"),M=c("057f"),E=c("7418"),N=c("06cf"),$=c("9bf2"),_=c("37e8"),V=c("d1e7"),C=c("f36a"),H=c("6eeb"),I=c("5692"),L=c("f772"),A=c("d012"),B=c("90e3"),J=c("b622"),D=c("e538"),F=c("746f"),T=c("d44e"),z=c("69f3"),Q=c("b727").forEach,R=L("hidden"),W="Symbol",q="prototype",G=J("toPrimitive"),K=z.set,X=z.getterFor(W),Y=Object[q],Z=r.Symbol,tt=Z&&Z[q],et=r.TypeError,ct=r.QObject,ot=n("JSON","stringify"),rt=N.f,nt=$.f,st=M.f,it=V.f,at=a([].push),ut=I("symbols"),lt=I("op-symbols"),dt=I("string-to-symbol-registry"),bt=I("symbol-to-string-registry"),ft=I("wks"),pt=!ct||!ct[q]||!ct[q].findChild,gt=l&&b((function(){return 7!=k(nt({},"a",{get:function(){return nt(this,"a",{value:7}).a}})).a}))?function(t,e,c){var o=rt(Y,e);o&&delete Y[e],nt(t,e,c),o&&t!==Y&&nt(Y,e,o)}:nt,mt=function(t,e){var c=ut[t]=k(tt);return K(c,{type:W,tag:t,description:e}),l||(c.description=e),c},Ot=function(t,e,c){t===Y&&Ot(lt,e,c),j(t);var o=w(e);return j(c),f(ut,o)?(c.enumerable?(f(t,R)&&t[R][o]&&(t[R][o]=!1),c=k(c,{enumerable:U(0,!1)})):(f(t,R)||nt(t,R,U(1,{})),t[R][o]=!0),gt(t,o,c)):nt(t,o,c)},ht=function(t,e){j(t);var c=y(e),o=x(c).concat(Pt(c));return Q(o,(function(e){l&&!i(vt,c,e)||Ot(t,e,c[e])})),t},jt=function(t,e){return void 0===e?k(t):ht(k(t),e)},vt=function(t){var e=w(t),c=i(it,this,e);return!(this===Y&&f(ut,e)&&!f(lt,e))&&(!(c||!f(this,e)||!f(ut,e)||f(this,R)&&this[R][e])||c)},yt=function(t,e){var c=y(t),o=w(e);if(c!==Y||!f(ut,o)||f(lt,o)){var r=rt(c,o);return!r||!f(ut,o)||f(c,R)&&c[R][o]||(r.enumerable=!0),r}},wt=function(t){var e=st(y(t)),c=[];return Q(e,(function(t){f(ut,t)||f(A,t)||at(c,t)})),c},Pt=function(t){var e=t===Y,c=st(e?lt:y(t)),o=[];return Q(c,(function(t){!f(ut,t)||e&&!f(Y,t)||at(o,ut[t])})),o};if(d||(Z=function(){if(O(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?P(arguments[0]):void 0,e=B(t),c=function(t){this===Y&&i(c,lt,t),f(this,R)&&f(this[R],e)&&(this[R][e]=!1),gt(this,e,U(1,t))};return l&&pt&&gt(Y,e,{configurable:!0,set:c}),mt(e,t)},tt=Z[q],H(tt,"toString",(function(){return X(this).tag})),H(Z,"withoutSetter",(function(t){return mt(B(t),t)})),V.f=vt,$.f=Ot,_.f=ht,N.f=yt,S.f=M.f=wt,E.f=Pt,D.f=function(t){return mt(J(t),t)},l&&(nt(tt,"description",{configurable:!0,get:function(){return X(this).description}}),u||H(Y,"propertyIsEnumerable",vt,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:Z}),Q(x(ft),(function(t){F(t)})),o({target:W,stat:!0,forced:!d},{for:function(t){var e=P(t);if(f(dt,e))return dt[e];var c=Z(e);return dt[e]=c,bt[c]=e,c},keyFor:function(t){if(!h(t))throw et(t+" is not a symbol");if(f(bt,t))return bt[t]},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),o({target:"Object",stat:!0,forced:!d,sham:!l},{create:jt,defineProperty:Ot,defineProperties:ht,getOwnPropertyDescriptor:yt}),o({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:wt,getOwnPropertySymbols:Pt}),o({target:"Object",stat:!0,forced:b((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(v(t))}}),ot){var Ut=!d||b((function(){var t=Z();return"[null]"!=ot([t])||"{}"!=ot({a:t})||"{}"!=ot(Object(t))}));o({target:"JSON",stat:!0,forced:Ut},{stringify:function(t,e,c){var o=C(arguments),r=e;if((m(e)||void 0!==t)&&!h(t))return p(e)||(e=function(t,e){if(g(r)&&(e=i(r,this,t,e)),!h(e))return e}),o[1]=e,s(ot,null,o)}})}if(!tt[G]){var kt=tt.valueOf;H(tt,G,(function(t){return i(kt,this)}))}T(Z,W),A[R]=!0},b727:function(t,e,c){var o=c("0366"),r=c("e330"),n=c("44ad"),s=c("7b0b"),i=c("07fa"),a=c("65f0"),u=r([].push),l=function(t){var e=1==t,c=2==t,r=3==t,l=4==t,d=6==t,b=7==t,f=5==t||d;return function(p,g,m,O){for(var h,j,v=s(p),y=n(v),w=o(g,m),P=i(y),U=0,k=O||a,x=e?k(p,P):c||b?k(p,0):void 0;P>U;U++)if((f||U in y)&&(h=y[U],j=w(h,U,v),t))if(e)x[U]=j;else if(j)switch(t){case 3:return!0;case 5:return h;case 6:return U;case 2:u(x,h)}else switch(t){case 4:return!1;case 7:u(x,h)}return d?-1:r||l?l:x}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},e01a:function(t,e,c){"use strict";var o=c("23e7"),r=c("83ab"),n=c("da84"),s=c("e330"),i=c("1a2d"),a=c("1626"),u=c("3a9b"),l=c("577e"),d=c("9bf2").f,b=c("e893"),f=n.Symbol,p=f&&f.prototype;if(r&&a(f)&&(!("description"in p)||void 0!==f().description)){var g={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(p,this)?new f(t):void 0===t?f():f(t);return""===t&&(g[e]=!0),e};b(m,f),m.prototype=p,p.constructor=m;var O="Symbol(test)"==String(f("test")),h=s(p.toString),j=s(p.valueOf),v=/^Symbol\((.*)\)[^)]+$/,y=s("".replace),w=s("".slice);d(p,"description",{configurable:!0,get:function(){var t=j(this),e=h(t);if(i(g,t))return"";var c=O?w(e,7,-1):y(e,v,"$1");return""===c?void 0:c}}),o({global:!0,forced:!0},{Symbol:m})}},e538:function(t,e,c){var o=c("b622");e.f=o}}]);
//# sourceMappingURL=chunk-17eef166.7e404b7c.js.map