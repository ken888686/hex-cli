(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0db2"],{"9dc4":function(t,e,s){"use strict";s.r(e);var c=s("7a23"),n={class:"container"},o={class:"text-end mt-4"},a=["disabled"],u={class:"table mt-4"},d=Object(c["f"])("thead",null,[Object(c["f"])("tr",null,[Object(c["f"])("th",{width:"120"}," 分類 "),Object(c["f"])("th",null,"產品名稱"),Object(c["f"])("th",{width:"120"}," 原價 "),Object(c["f"])("th",{width:"120"}," 售價 "),Object(c["f"])("th",{width:"100"}," 是否啟用 "),Object(c["f"])("th",{width:"120"}," 編輯 ")])],-1),i={class:"btn-group"},r=["onClick"],l=["onClick"];function b(t,e,s,b,h,g){return Object(c["r"])(),Object(c["e"])("div",n,[Object(c["f"])("div",o,[Object(c["f"])("button",{class:"btn btn-primary",disabled:h.isLoading,onClick:e[0]||(e[0]=function(t){return g.setProductId("","add")})}," 建立新的產品 ",8,a)]),Object(c["f"])("table",u,[d,Object(c["f"])("tbody",null,[(Object(c["r"])(!0),Object(c["e"])(c["a"],null,Object(c["x"])(h.products,(function(t){return Object(c["r"])(),Object(c["e"])("tr",{key:t.id},[Object(c["f"])("td",null,Object(c["A"])(t.category),1),Object(c["f"])("td",null,Object(c["A"])(t.title),1),Object(c["f"])("td",null,Object(c["A"])(t.origin_price),1),Object(c["f"])("td",null,Object(c["A"])(t.price),1),Object(c["f"])("td",null,[Object(c["f"])("span",{class:Object(c["n"])([t.is_enabled?"text-success":"text-secondary"])},Object(c["A"])(t.is_enabled?"啟用":"未啟用"),3)]),Object(c["f"])("td",null,[Object(c["f"])("div",i,[Object(c["f"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(e){return g.setProductId(t.id,"edit")}}," 編輯 ",8,r),Object(c["f"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return g.setProductId(t.id,"del")}}," 刪除 ",8,l)])])])})),128))])])])}var h=s("dde5"),g={data:function(){return{products:[],isLoading:!0}},mounted:function(){var t=this;this.$store.state.isLogin||this.$router.push("/login"),h["b"].check().then((function(e){var s=e.data;s.success&&t.getProducts()})).catch((function(e){var s=e.response.data;t.message=s.message,t.success=s.success,t.$store.commit("logout"),t.$router.push("/login")}))},methods:{setProductId:function(t,e){switch(this.selectedProductId=t,this.action=e,e){case"add":case"edit":this.productModal.show();break;case"del":this.delProductModal.show();break;default:}},getProducts:function(){var t=this;this.isLoading=!0,h["a"].getProducts().then((function(e){var s=e.data;t.products=s.products,t.pagination=s.pagination,t.isLoading=!1})).catch((function(e){var s=e.response.data;t.message=s.message,t.success=s.success,t.$store.commit("logout"),t.$router.push("/login")}))},addProduct:function(){var t=this;this.isLoading=!0,h["a"].addProduct(this.product).then((function(e){var s=e.data;t.message=s.message,t.success=s.success,t.getProducts()})).catch((function(e){var s=e.response.data;t.message=s.message,t.success=s.success,t.$store.commit("logout"),t.$router.push("/login"),t.getProducts()}))},updateProduct:function(){var t=this;this.isLoading=!0,h["a"].updateProduct(this.selectedProductId,this.product).then((function(e){var s=e.data;t.products=s.products,t.pagination=s.pagination,t.message=s.message,t.success=s.success,t.getProducts()})).catch((function(e){var s=e.response.data;t.message=s.message,t.success=s.success,t.$store.commit("logout"),t.$router.push("/login")}))},deleteProduct:function(){var t=this;this.isLoading=!0,h["a"].deleteProduct(this.selectedProductId).then((function(e){var s=e.data;t.products=s.products,t.pagination=s.pagination,t.message=s.message,t.success=s.success,t.getProducts()})).catch((function(e){var s=e.response.data;t.message=s.message,t.success=s.success,t.$store.commit("logout"),t.$router.push("/login")}))}}},f=s("6b0d"),p=s.n(f);const j=p()(g,[["render",b]]);e["default"]=j}}]);
//# sourceMappingURL=chunk-2d0f0db2.5387f1bd.js.map