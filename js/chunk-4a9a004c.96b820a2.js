(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a9a004c"],{"057f":function(e,t,n){var c=n("c6b6"),a=n("fc6a"),r=n("241c").f,o=n("4dae"),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return r(e)}catch(t){return o(i)}};e.exports.f=function(e){return i&&"Window"==c(e)?l(e):r(a(e))}},1799:function(e,t,n){"use strict";var c=n("7a23"),a={"aria-label":"Page navigation",class:"d-inline-block"},r={class:"pagination"},o=["aria-current"],i=["onClick"];function l(e,t,n,l,s,d){return Object(c["openBlock"])(),Object(c["createElementBlock"])("nav",a,[Object(c["createElementVNode"])("ul",r,[Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:!s.pagination.has_pre}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t[0]||(t[0]=function(e){return d.setCurrentPage(s.pagination.current_page-1)})}," Previous ")],2),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(s.pagination.total_pages,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{key:t,class:Object(c["normalizeClass"])(["page-item",{active:s.pagination.current_page===e}]),"aria-current":s.pagination.current_page===e?"page":null},[Object(c["createElementVNode"])("a",{class:"page-link",href:"#",onClick:function(t){return d.setCurrentPage(e)}},Object(c["toDisplayString"])(e),9,i)],10,o)})),128)),Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:!s.pagination.has_next}])},[Object(c["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=function(e){return d.setCurrentPage(s.pagination.current_page+1)})}," Next ")],2)])])}var s={props:{propPagination:{type:Object,default:function(){return{}}}},emits:["set-current-page"],data:function(){return{pagination:{}}},watch:{propPagination:function(){this.pagination=this.propPagination}},methods:{setCurrentPage:function(e){this.$emit("set-current-page",e)}}},d=n("6b0d"),u=n.n(d);const b=u()(s,[["render",l]]);t["a"]=b},"428f":function(e,t,n){var c=n("da84");e.exports=c},"4dae":function(e,t,n){var c=n("da84"),a=n("23cb"),r=n("07fa"),o=n("8418"),i=c.Array,l=Math.max;e.exports=function(e,t,n){for(var c=r(e),s=a(t,c),d=a(void 0===n?c:n,c),u=i(l(d-s,0)),b=0;s<d;s++,b++)o(u,b,e[s]);return u.length=b,u}},"6a30":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),a={class:"container"},r={class:"mt-4"},o={class:"table align-middle"},i=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"圖片"),Object(c["createElementVNode"])("th",null,"商品名稱"),Object(c["createElementVNode"])("th",null,"價格"),Object(c["createElementVNode"])("th")])],-1),l={style:{width:"200px"}},s={style:{height:"100px","background-size":"cover","background-position":"center"}},d=["src"],u={class:"h6"},b={class:"h5"},p={class:"btn-group btn-group-sm"},f=["disabled","onClick"],m={key:0,class:"fas fa-spinner fa-pulse"},g=Object(c["createTextVNode"])(" 查看更多 "),O=["disabled","onClick"],j={key:0,class:"fas fa-spinner fa-pulse"},h=Object(c["createTextVNode"])(" 加到購物車 "),v={class:"text-center"},y={class:"d-flex justify-content-end"},N=["disabled"],E={key:0,class:"fas fa-spinner fa-pulse"},V=Object(c["createTextVNode"])(" 清空購物車 ");function k(e,t,n,k,w,C){var x=Object(c["resolveComponent"])("Pagination"),P=Object(c["resolveComponent"])("CartList"),S=Object(c["resolveComponent"])("ProductInfoModal");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("table",o,[i,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(w.products,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},[Object(c["createElementVNode"])("td",l,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("img",{src:e.imageUrl,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,d)])]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.title),1),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("del",u,"原價 "+Object(c["toDisplayString"])(e.origin_price)+" 元",1),Object(c["createElementVNode"])("div",b," 現在只要 "+Object(c["toDisplayString"])(e.price)+" 元 ",1)]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary",disabled:w.isLoading&&w.loadingItemId===e.id,onClick:function(t){return C.showProductInfoModal(e.id)}},[w.isLoading&&w.loadingItemId===e.id?(Object(c["openBlock"])(),Object(c["createElementBlock"])("i",m)):Object(c["createCommentVNode"])("",!0),g],8,f),Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger",disabled:w.isLoading&&w.loadingItemId===e.id,onClick:function(t){return C.addProduct({productId:e.id,quantity:1})}},[w.isLoading&&w.loadingItemId===e.id?(Object(c["openBlock"])(),Object(c["createElementBlock"])("i",j)):Object(c["createCommentVNode"])("",!0),h],8,O)])])])})),128))])]),Object(c["createElementVNode"])("div",v,[Object(c["createVNode"])(x,{"prop-pagination":w.pagination,onSetCurrentPage:C.getProducts},null,8,["prop-pagination","onSetCurrentPage"])]),Object(c["createElementVNode"])("div",y,[Object(c["createElementVNode"])("button",{class:"btn btn-outline-danger",type:"button",disabled:w.isLoading||!w.cartData.carts.length,onClick:t[0]||(t[0]=function(){return C.clear&&C.clear.apply(C,arguments)})},[w.isLoading&&""===w.loadingItemId?(Object(c["openBlock"])(),Object(c["createElementBlock"])("i",E)):Object(c["createCommentVNode"])("",!0),V],8,N)]),Object(c["createVNode"])(P,{"prop-cart-data":w.cartData,onGetCart:C.getCart},null,8,["prop-cart-data","onGetCart"])]),Object(c["createVNode"])(S,{ref:"productInfoModal","prop-product":w.product},null,8,["prop-product"])])}n("d3b7");var w=n("7b17"),C=n("dde5"),x=n("1799"),P=(n("a4d3"),n("e01a"),{id:"productInfoModal",ref:"modal",class:"modal fade",tabindex:"-1",role:"dialog","aria-labelledby":"productInfoModalLabel","aria-hidden":"true"}),S={class:"modal-dialog modal-xl",role:"document"},I={class:"modal-content border-0"},D={class:"modal-header bg-dark text-white"},B={id:"productInfoModalLabel",class:"modal-title"},L=Object(c["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),M={class:"modal-body"},_={class:"row"},T={class:"col-sm-6"},$=["src"],q={class:"col-sm-6"},A={class:"badge bg-primary rounded-pill"},F={class:"h6"},U={class:"h5"},z={class:"input-group"},J=Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary"}," 加入購物車 ",-1);function G(e,t,n,a,r,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",P,[Object(c["createElementVNode"])("div",S,[Object(c["createElementVNode"])("div",I,[Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("h5",B,[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(r.product.title),1)]),L]),Object(c["createElementVNode"])("div",M,[Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("div",T,[Object(c["createElementVNode"])("img",{class:"img-fluid",src:r.product.imageUrl,alt:""},null,8,$)]),Object(c["createElementVNode"])("div",q,[Object(c["createElementVNode"])("span",A,Object(c["toDisplayString"])(r.product.category),1),Object(c["createElementVNode"])("p",null,"商品描述："+Object(c["toDisplayString"])(r.product.description),1),Object(c["createElementVNode"])("p",null,"商品內容："+Object(c["toDisplayString"])(r.product.content),1),Object(c["createElementVNode"])("del",F,"原價 "+Object(c["toDisplayString"])(r.product.origin_price)+" 元",1),Object(c["createElementVNode"])("div",U," 現在只要 "+Object(c["toDisplayString"])(r.product.price)+" 元 ",1),Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("div",z,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.quantity=e}),type:"number",class:"form-control",min:"1"},null,512),[[c["vModelText"],r.quantity]]),J])])])])])])])],512)}var Q={props:{propProduct:{type:Object,default:function(){return{}}}},data:function(){return{product:{},quantity:1}},watch:{propProduct:function(){this.product=this.propProduct,this.quantity=1}},mounted:function(){}},R=n("6b0d"),W=n.n(R);const H=W()(Q,[["render",G]]);var K=H,X={class:"table align-middle"},Y=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th"),Object(c["createElementVNode"])("th",null,"品名"),Object(c["createElementVNode"])("th",{style:{width:"150px"}}," 數量/單位 "),Object(c["createElementVNode"])("th",{class:"text-end"}," 單價 ")])],-1),Z=Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm"},[Object(c["createElementVNode"])("i",{class:"fas fa-spinner fa-pulse"}),Object(c["createTextVNode"])(" x ")])],-1),ee=Object(c["createElementVNode"])("div",{class:"text-success"}," 已套用優惠券 ",-1),te={class:"input-group input-group-sm"},ne={class:"input-group mb-3"},ce=["onUpdate:modelValue"],ae={id:"basic-addon2",class:"input-group-text"},re={class:"text-end"},oe=Object(c["createElementVNode"])("small",{class:"text-success"},"折扣價：",-1),ie=Object(c["createElementVNode"])("td",{colspan:"3",class:"text-end"}," 總計 ",-1),le={class:"text-end"},se=Object(c["createElementVNode"])("td",{colspan:"3",class:"text-end text-success"}," 折扣價 ",-1),de={class:"text-end text-success"};function ue(e,t,n,a,r,o){return Object(c["openBlock"])(),Object(c["createElementBlock"])("table",X,[Y,Object(c["createElementVNode"])("tbody",null,[r.cartData.carts?(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(r.cartData.carts,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:t},[Z,Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.product.title)+" ",1),ee]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("div",te,[Object(c["createElementVNode"])("div",ne,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{"onUpdate:modelValue":function(t){return e.qty=t},min:"1",type:"number",class:"form-control"},null,8,ce),[[c["vModelText"],e.qty]]),Object(c["createElementVNode"])("span",ae,Object(c["toDisplayString"])(e.product.unit),1)])])]),Object(c["createElementVNode"])("td",re,[oe,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.product.price),1)])])})),128)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("tfoot",null,[Object(c["createElementVNode"])("tr",null,[ie,Object(c["createElementVNode"])("td",le,Object(c["toDisplayString"])(r.cartData.total),1)]),Object(c["createElementVNode"])("tr",null,[se,Object(c["createElementVNode"])("td",de,Object(c["toDisplayString"])(r.cartData.final_total),1)])])])}var be={props:{propCartData:{type:Object,default:function(){return{}}}},emits:["get-cart"],data:function(){return{cartData:{carts:[],total:0,final_total:0}}},watch:{propCartData:function(){this.cartData=this.propCartData}},methods:{}};const pe=W()(be,[["render",ue]]);var fe=pe,me={components:{Pagination:x["a"],ProductInfoModal:K,CartList:fe},data:function(){return{pagination:{},product:{},products:[],success:!1,message:"",cartData:{carts:[],final_total:0,total:0},productInfoModal:null,isLoading:!1,loadingItemId:""}},mounted:function(){this.getProducts(),this.getCart(),this.productInfoModal=new w["a"](this.$refs.productInfoModal.$refs.modal)},methods:{showProductInfoModal:function(e){var t=this;this.loadingItemId=e,this.isLoading=!0,C["c"].getProduct(e).then((function(e){t.product=e.data.product,t.productInfoModal.show()})).catch((function(e){t.errAction(e.response.data)}))},clear:function(){var e=this;this.cartData.carts.length<=0||(this.loadingItemId="",this.isLoading=!0,C["c"].removeCart().then((function(t){var n=t.data,c=n.success,a=n.message;e.success=c,e.message=a,e.getCart()})).catch((function(t){e.errAction(t.response.data)})))},getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.$loading.show();C["c"].getProducts(t).then((function(t){var n=t.data,c=n.pagination,a=n.products;e.pagination=c,e.products=a})).catch((function(t){e.errAction(t.response.data)})).finally((function(){e.isLoading=!1,n.hide()}))},addProduct:function(e){var t=this,n=e.productId,c=e.quantity,a=void 0===c?1:c;this.loadingItemId=n,this.isLoading=!0,C["c"].addProduct(this.loadingItemId,a).then((function(e){var n=e.data,c=n.message,a=n.success;t.message=c,t.success=a,t.getCart()})).catch((function(e){t.errAction(e.response.data)}))},getCart:function(){var e=this,t=this.$loading.show();C["c"].getCart().then((function(t){var n=t.data.data;e.cartData=n})).catch((function(t){e.errAction(t.response.data)})).finally((function(){e.isLoading=!1,t.hide()}))},errAction:function(e){var t=e.message,n=e.success;this.message=t,this.success=n,this.$store.commit("logout"),this.$router.push("/login")}}};const ge=W()(me,[["render",k]]);t["default"]=ge},"746f":function(e,t,n){var c=n("428f"),a=n("1a2d"),r=n("e538"),o=n("9bf2").f;e.exports=function(e){var t=c.Symbol||(c.Symbol={});a(t,e)||o(t,e,{value:r.f(e)})}},a4d3:function(e,t,n){"use strict";var c=n("23e7"),a=n("da84"),r=n("d066"),o=n("2ba4"),i=n("c65b"),l=n("e330"),s=n("c430"),d=n("83ab"),u=n("4930"),b=n("d039"),p=n("1a2d"),f=n("e8b5"),m=n("1626"),g=n("861d"),O=n("3a9b"),j=n("d9b5"),h=n("825a"),v=n("7b0b"),y=n("fc6a"),N=n("a04b"),E=n("577e"),V=n("5c6c"),k=n("7c73"),w=n("df75"),C=n("241c"),x=n("057f"),P=n("7418"),S=n("06cf"),I=n("9bf2"),D=n("37e8"),B=n("d1e7"),L=n("f36a"),M=n("6eeb"),_=n("5692"),T=n("f772"),$=n("d012"),q=n("90e3"),A=n("b622"),F=n("e538"),U=n("746f"),z=n("d44e"),J=n("69f3"),G=n("b727").forEach,Q=T("hidden"),R="Symbol",W="prototype",H=A("toPrimitive"),K=J.set,X=J.getterFor(R),Y=Object[W],Z=a.Symbol,ee=Z&&Z[W],te=a.TypeError,ne=a.QObject,ce=r("JSON","stringify"),ae=S.f,re=I.f,oe=x.f,ie=B.f,le=l([].push),se=_("symbols"),de=_("op-symbols"),ue=_("string-to-symbol-registry"),be=_("symbol-to-string-registry"),pe=_("wks"),fe=!ne||!ne[W]||!ne[W].findChild,me=d&&b((function(){return 7!=k(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a}))?function(e,t,n){var c=ae(Y,t);c&&delete Y[t],re(e,t,n),c&&e!==Y&&re(Y,t,c)}:re,ge=function(e,t){var n=se[e]=k(ee);return K(n,{type:R,tag:e,description:t}),d||(n.description=t),n},Oe=function(e,t,n){e===Y&&Oe(de,t,n),h(e);var c=N(t);return h(n),p(se,c)?(n.enumerable?(p(e,Q)&&e[Q][c]&&(e[Q][c]=!1),n=k(n,{enumerable:V(0,!1)})):(p(e,Q)||re(e,Q,V(1,{})),e[Q][c]=!0),me(e,c,n)):re(e,c,n)},je=function(e,t){h(e);var n=y(t),c=w(n).concat(Ee(n));return G(c,(function(t){d&&!i(ve,n,t)||Oe(e,t,n[t])})),e},he=function(e,t){return void 0===t?k(e):je(k(e),t)},ve=function(e){var t=N(e),n=i(ie,this,t);return!(this===Y&&p(se,t)&&!p(de,t))&&(!(n||!p(this,t)||!p(se,t)||p(this,Q)&&this[Q][t])||n)},ye=function(e,t){var n=y(e),c=N(t);if(n!==Y||!p(se,c)||p(de,c)){var a=ae(n,c);return!a||!p(se,c)||p(n,Q)&&n[Q][c]||(a.enumerable=!0),a}},Ne=function(e){var t=oe(y(e)),n=[];return G(t,(function(e){p(se,e)||p($,e)||le(n,e)})),n},Ee=function(e){var t=e===Y,n=oe(t?de:y(e)),c=[];return G(n,(function(e){!p(se,e)||t&&!p(Y,e)||le(c,se[e])})),c};if(u||(Z=function(){if(O(ee,this))throw te("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?E(arguments[0]):void 0,t=q(e),n=function(e){this===Y&&i(n,de,e),p(this,Q)&&p(this[Q],t)&&(this[Q][t]=!1),me(this,t,V(1,e))};return d&&fe&&me(Y,t,{configurable:!0,set:n}),ge(t,e)},ee=Z[W],M(ee,"toString",(function(){return X(this).tag})),M(Z,"withoutSetter",(function(e){return ge(q(e),e)})),B.f=ve,I.f=Oe,D.f=je,S.f=ye,C.f=x.f=Ne,P.f=Ee,F.f=function(e){return ge(A(e),e)},d&&(re(ee,"description",{configurable:!0,get:function(){return X(this).description}}),s||M(Y,"propertyIsEnumerable",ve,{unsafe:!0}))),c({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Z}),G(w(pe),(function(e){U(e)})),c({target:R,stat:!0,forced:!u},{for:function(e){var t=E(e);if(p(ue,t))return ue[t];var n=Z(t);return ue[t]=n,be[n]=t,n},keyFor:function(e){if(!j(e))throw te(e+" is not a symbol");if(p(be,e))return be[e]},useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),c({target:"Object",stat:!0,forced:!u,sham:!d},{create:he,defineProperty:Oe,defineProperties:je,getOwnPropertyDescriptor:ye}),c({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:Ne,getOwnPropertySymbols:Ee}),c({target:"Object",stat:!0,forced:b((function(){P.f(1)}))},{getOwnPropertySymbols:function(e){return P.f(v(e))}}),ce){var Ve=!u||b((function(){var e=Z();return"[null]"!=ce([e])||"{}"!=ce({a:e})||"{}"!=ce(Object(e))}));c({target:"JSON",stat:!0,forced:Ve},{stringify:function(e,t,n){var c=L(arguments),a=t;if((g(t)||void 0!==e)&&!j(e))return f(t)||(t=function(e,t){if(m(a)&&(t=i(a,this,e,t)),!j(t))return t}),c[1]=t,o(ce,null,c)}})}if(!ee[H]){var ke=ee.valueOf;M(ee,H,(function(e){return i(ke,this)}))}z(Z,R),$[Q]=!0},b727:function(e,t,n){var c=n("0366"),a=n("e330"),r=n("44ad"),o=n("7b0b"),i=n("07fa"),l=n("65f0"),s=a([].push),d=function(e){var t=1==e,n=2==e,a=3==e,d=4==e,u=6==e,b=7==e,p=5==e||u;return function(f,m,g,O){for(var j,h,v=o(f),y=r(v),N=c(m,g),E=i(y),V=0,k=O||l,w=t?k(f,E):n||b?k(f,0):void 0;E>V;V++)if((p||V in y)&&(j=y[V],h=N(j,V,v),e))if(t)w[V]=h;else if(h)switch(e){case 3:return!0;case 5:return j;case 6:return V;case 2:s(w,j)}else switch(e){case 4:return!1;case 7:s(w,j)}return u?-1:a||d?d:w}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},e01a:function(e,t,n){"use strict";var c=n("23e7"),a=n("83ab"),r=n("da84"),o=n("e330"),i=n("1a2d"),l=n("1626"),s=n("3a9b"),d=n("577e"),u=n("9bf2").f,b=n("e893"),p=r.Symbol,f=p&&p.prototype;if(a&&l(p)&&(!("description"in f)||void 0!==p().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=s(f,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};b(g,p),g.prototype=f,f.constructor=g;var O="Symbol(test)"==String(p("test")),j=o(f.toString),h=o(f.valueOf),v=/^Symbol\((.*)\)[^)]+$/,y=o("".replace),N=o("".slice);u(f,"description",{configurable:!0,get:function(){var e=h(this),t=j(e);if(i(m,e))return"";var n=O?N(t,7,-1):y(t,v,"$1");return""===n?void 0:n}}),c({global:!0,forced:!0},{Symbol:g})}},e538:function(e,t,n){var c=n("b622");t.f=c}}]);
//# sourceMappingURL=chunk-4a9a004c.96b820a2.js.map